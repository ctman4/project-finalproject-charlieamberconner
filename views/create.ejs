<!DOCTYPE html>
<html>
  <%- include('./head'); -%>

        <body>
          <p class="lead p-3">Create Your Account:</p>
            <main class="p-3">
                <form>

                  <label for="name">Name:</label><br>
                  <input type="text" id="name" name="name"><br>

                  <label for="id">ID:</label><br>
                  <input type="text" id="id" name="id"><br>

                  <label for="location">Location:</label><br>
                  <input type="text" id="location" name="location"><br>

                  <label for="phone">Phone Number:</label><br>
                  <input type="text" id="phone" name="phone"><br>

                  <button class="submit m-3">Done</button>

                </form>
            </main>
                <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
                <script>
                $('form').on('submit', '.create', function(event) {
                  const form = $(this);
                  event.preventDefault();
                  var name = $("#name").val();
                  var id = $("#id").val();
                  var location = $("#location").val();
                  var phone = $("#phone").val();
                  $.ajax({method: 'post', url: '/users', data: form.serialize()})
                    .done(function(id) {
                      form.attr('id', id);
                      form.find('.create').removeClass('create').addClass('update');
                    })
                    .fail(error => alert(error.responseText));
                })
                </script>
        </body>
    </html>
